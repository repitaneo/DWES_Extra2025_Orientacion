
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Actividades</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
</head>
<body class="bg-light">

    <div th:insert="~{fragments/menu :: menuSuperior}"></div>

    <div class="container mt-4">

        <!-- Título principal -->
		<div class="row">
		    <div class="col-12">
		        <h2 class="text-black text-center my-5 shadow-sm py-4 position-relative">
		            <span class="badge rounded-pill bg-secondary">Listado de Actividades</span>
		            <div class="position-absolute end-0 top-50 translate-middle-y me-4 d-flex gap-2">
		                <a th:href="@{/configuracion/actividades/5}" class="btn btn-warning rounded-pill border border-dark">5</a>
		                <a th:href="@{/configuracion/actividades/10}" class="btn btn-warning rounded-pill	border border-dark">10</a>
		                <a th:href="@{/configuracion/actividades/15}" class="btn btn-warning rounded-pill	border border-dark">15</a>
		                <a th:href="@{/configuracion/actividades/20}" class="btn btn-warning rounded-pill	border border-dark">20</a>
		            </div>
		        </h2>
		    </div>
		</div>



		
		
		
		
		
		<!-- Controles de paginación -->
		<div class="row mb-4 justify-content-start">
		    <div class="col-auto">
		        <a class="btn btn-outline-secondary" 
		           th:classappend="${page.first} ? ' disabled'" 
		           th:href="@{/actividad(page=0)}">
		            <i class="bi bi-chevron-bar-left"></i>
		        </a>
		    </div>
		    <div class="col-auto">
		        <a class="btn btn-outline-secondary" 
		           th:classappend="${page.first} ? ' disabled'" 
		           th:href="@{/actividad(page=${page.number - 1})}">
		            <i class="bi bi-chevron-left"></i>
		        </a>
		    </div>
			
		    <div class="col-auto mx-3">
				<span class="btn btn-primary position-relative">
				    <span th:text="'página ' + ${page.number + 1}+'  '">1 de 1</span>
				    <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-light text-dark border border-dark"
				          th:text="'de ' + ${page.totalPages}">
				        1
				    </span>
				</span>
		    </div>
			
		    <div class="col-auto">
		        <a class="btn btn-outline-secondary" 
		           th:classappend="${page.last} ? ' disabled'" 
		           th:href="@{/actividad(page=${page.number + 1})}">
		            <i class="bi bi-chevron-right"></i>
		        </a>
		    </div>
		    <div class="col-auto">
		        <a class="btn btn-outline-secondary" 
		           th:classappend="${page.last} ? ' disabled'" 
		           th:href="@{/actividad(page=${page.totalPages - 1})}">
		            <i class="bi bi-chevron-bar-right"></i>
		        </a>
		    </div>
		</div>


		
		
		
		
		
		
		
				
        <div class="row mb-5">

            <!-- Tabla -->
            <div class="col-md-8">
                <div class="card shadow-sm border-0">
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-bordered table-striped text-center align-middle">
                                <thead class="table-dark">
                                    <tr>
                                        <th>ID</th>
                                        <th>Temática</th>
                                        <th>Duración</th>
                                        <th>Curso</th>
                                        <th>Target</th>
                                        <th>Pública</th>
                                        <th><i class="bi bi-trash fs-6"></i></th>
                                        <th>Editar</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr th:each="actividad : ${actividades}">
                                        <td th:text="${actividad.id}"></td>
                                        <td>
                                            <a th:href="@{/actividad/{id}(id=${actividad.id})}" class="btn btn-sm btn-light">
                                                <span th:text="${actividad.tematica}">Temática</span>
                                            </a>
                                        </td>
                                        <td th:text="${actividad.duracion}"></td>
                                        <td th:text="${actividad.curso}"></td>
                                        <td th:text="${actividad.target}"></td>
                                        <td>
                                            <span th:text="${actividad.publica ? 'Sí' : 'No'}"></span>
                                        </td>
                                        <td>
                                            <a th:href="@{/actividad/del/{id}(id=${actividad.id})}" class="btn btn-sm btn-danger">
                                                <i class="bi bi-trash fs-6"></i>
                                            </a>
                                        </td>
                                        <td>
                                            <a th:href="@{/actividad/edit/{id}(id=${actividad.id})}" class="btn btn-sm btn-primary">
                                                <i class="bi bi-pencil-fill fs-6"></i>
                                            </a>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Formulario -->
            <div class="col-md-4 d-flex flex-column">
                <div class="card shadow-sm border-0 flex-grow-1">
                    <div class="card-header bg-primary text-white">
                        <h5 class="mb-0">Nueva Actividad</h5>
                    </div>
                    <div class="card-body">
                        <form th:action="@{/actividad}" method="post" th:object="${actividad}">
                            <div class="row mb-3">
                                <div class="col-6">
                                    <label for="tematica" class="form-label">Temática</label>
                                    <input type="text" class="form-control" id="tematica" th:field="*{tematica}" required>
                                </div>
                                <div class="col-6">
                                    <label for="duracion" class="form-label">Duración (min)</label>
                                    <input type="number" class="form-control" id="duracion" th:field="*{duracion}" required>
                                </div>
                            </div>

                            <div class="mb-3">
                                <label for="curso" class="form-label">Curso</label>
                                <select class="form-select" id="curso" th:field="*{curso}" required>
                                    <option value="" disabled th:selected="*{curso} == null">Seleccione curso</option>
                                    <option value="ESO">ESO</option>
                                    <option value="1ESO">1ESO</option>
                                    <option value="2ESO">2ESO</option>
                                    <option value="3ESO">3ESO</option>
                                    <option value="4ESO">4ESO</option>
                                    <option value="BACHILLERATO">BACHILLERATO</option>
                                    <option value="1BH">1BH</option>
                                    <option value="2BH">2BH</option>
                                    <option value="FPBASICA">FPBASICA</option>
                                    <option value="CICLOS GRADO MEDIO">CICLOS GRADO MEDIO</option>
                                    <option value="CICLOS GRADO SUPERIOR">CICLOS GRADO SUPERIOR</option>
                                    <option value="FORMACION PROFESIONAL">FORMACION PROFESIONAL</option>
                                </select>
                            </div>

                            <div class="mb-3">
                                <label for="target" class="form-label">Target</label>
                                <input type="text" class="form-control" id="target" th:field="*{target}" required>
                            </div>

                            <div class="mb-3">
                                <label for="resumen" class="form-label">Resumen</label>
                                <textarea class="form-control" id="resumen" rows="2" th:field="*{resumen}" required></textarea>
                            </div>

                            <div class="mb-3">
                                <label for="pasos" class="form-label">Pasos</label>
                                <textarea class="form-control" id="pasos" rows="3" th:field="*{pasos}" required></textarea>
                            </div>

                            <div class="form-check mb-3">
                                <input type="checkbox" class="form-check-input" id="publica" th:field="*{publica}">
                                <label class="form-check-label" for="publica">¿Actividad pública?</label>
                            </div>

                            <button type="submit" class="btn btn-primary w-100">Guardar Actividad</button>
                        </form>
                    </div>
                </div>
            </div>

        </div>
    </div>

</body>
</html>
